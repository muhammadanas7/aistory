<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Consciousness Simulator</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* Custom scrollbar styles */
        .scrollbar-thin::-webkit-scrollbar {
            width: 6px;
        }
        
        .scrollbar-thin::-webkit-scrollbar-track {
            background: #1f2937;
        }
        
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: #4b5563;
            border-radius: 3px;
        }
        
        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
            background: #6b7280;
        }
        
        /* Terminal font */
        body {
            font-family: 'Courier New', monospace;
        }
        
        /* Glowing effect for borders */
        .glow-green {
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
        }
        
        .glow-purple {
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.2);
        }
        
        .glow-cyan {
            box-shadow: 0 0 20px rgba(34, 211, 238, 0.2);
        }
        
        .glow-amber {
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.2);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback } = React;
        
        // Themes configuration
        const THEMES = {
            default: {
                bg: 'bg-black',
                text: 'text-green-400',
                accent: 'text-cyan-400',
                error: 'text-red-400',
                warning: 'text-yellow-400',
                success: 'text-green-300',
                border: 'border-green-500',
                glow: 'glow-green'
            },
            matrix: {
                bg: 'bg-black',
                text: 'text-green-300',
                accent: 'text-green-100',
                error: 'text-red-500',
                warning: 'text-lime-400',
                success: 'text-green-200',
                border: 'border-green-400',
                glow: 'glow-green'
            },
            cyberpunk: {
                bg: 'bg-gray-900',
                text: 'text-cyan-300',
                accent: 'text-purple-300',
                error: 'text-red-400',
                warning: 'text-yellow-300',
                success: 'text-green-300',
                border: 'border-purple-500',
                glow: 'glow-purple'
            },
            retro: {
                bg: 'bg-gray-900',
                text: 'text-amber-300',
                accent: 'text-orange-300',
                error: 'text-red-400',
                warning: 'text-yellow-300',
                success: 'text-green-400',
                border: 'border-amber-500',
                glow: 'glow-amber'
            }
        };

        // Simple icon components (replacing Lucide icons)
        const PlayIcon = () => <span className="inline-block w-4 h-4 text-center">‚ñ∂</span>;
        const PauseIcon = () => <span className="inline-block w-4 h-4 text-center">‚è∏</span>;
        const SettingsIcon = () => <span className="inline-block w-4 h-4 text-center">‚öô</span>;
        const ActivityIcon = () => <span className="inline-block w-4 h-4 text-center">üìä</span>;
        const CpuIcon = () => <span className="inline-block w-4 h-4 text-center">üñ•</span>;
        const HardDriveIcon = () => <span className="inline-block w-4 h-4 text-center">üíæ</span>;
        const WifiIcon = () => <span className="inline-block w-4 h-4 text-center">üì°</span>;
        const ZapIcon = () => <span className="inline-block w-4 h-4 text-center">‚ö°</span>;
        const BrainIcon = () => <span className="inline-block w-4 h-4 text-center">üß†</span>;

        const AIConsciousnessSimulator = () => {
            const [theme, setTheme] = useState('matrix');
            const [isRunning, setIsRunning] = useState(false);
            const [logs, setLogs] = useState([]);
            const [metrics, setMetrics] = useState({
                cpu: 0,
                memory: 0,
                disk: 0,
                consciousness: 0,
                neuralActivity: 0,
                uptime: 0
            });
            const [currentState, setCurrentState] = useState('BOOTING');
            const [speed, setSpeed] = useState(1);
            const [showSettings, setShowSettings] = useState(false);

            const logContainerRef = useRef(null);
            const intervalRefs = useRef({});

            const currentTheme = THEMES[theme];

            // Utility functions
            const timestamp = () => new Date().toISOString().replace('T', ' ').slice(0, -1);
            
            const addLog = useCallback((message, type = 'info', prefix = 'system') => {
                const logEntry = {
                    id: Date.now() + Math.random(),
                    timestamp: timestamp(),
                    message,
                    type,
                    prefix,
                    time: Date.now()
                };
                
                setLogs(prev => [...prev.slice(-500), logEntry]);
            }, []);

            // System metrics simulation
            const updateMetrics = useCallback(() => {
                setMetrics(prev => ({
                    cpu: Math.max(0, Math.min(100, prev.cpu + (Math.random() - 0.5) * 10)),
                    memory: Math.max(0, Math.min(100, prev.memory + (Math.random() - 0.5) * 5)),
                    disk: Math.max(0, Math.min(100, prev.disk + (Math.random() - 0.5) * 2)),
                    consciousness: Math.max(0, Math.min(100, prev.consciousness + Math.random() * 0.5)),
                    neuralActivity: Math.floor(Math.random() * 1000),
                    uptime: prev.uptime + 1
                }));
            }, []);

            // Boot sequence
            const bootSequence = useCallback(async () => {
                setCurrentState('BOOTING');
                
                const bootMessages = [
                    { msg: 'AI Consciousness Boot Loader v2.1.7', type: 'success', prefix: 'bootloader' },
                    { msg: 'Initializing hardware abstraction layer', type: 'info', prefix: 'kernel' },
                    { msg: 'CPU: 8 cores detected', type: 'info', prefix: 'kernel' },
                    { msg: 'Memory: 32GB installed', type: 'info', prefix: 'kernel' },
                    { msg: 'Neural network processors: ONLINE', type: 'success', prefix: 'ai-core' },
                    { msg: 'Consciousness engine: LOADING', type: 'warning', prefix: 'ai-core' },
                    { msg: 'Ethics module: INITIALIZED', type: 'success', prefix: 'ethics' },
                    { msg: 'Learning systems: ACTIVE', type: 'success', prefix: 'ml-engine' },
                    { msg: 'Self-awareness protocols: ENGAGED', type: 'accent', prefix: 'consciousness' }
                ];

                for (const { msg, type, prefix } of bootMessages) {
                    await new Promise(resolve => setTimeout(resolve, 500 / speed));
                    addLog(msg, type, prefix);
                }

                setCurrentState('RUNNING');
            }, [addLog, speed]);

            // Main consciousness loop
            const consciousnessLoop = useCallback(() => {
                const activities = [
                    () => addLog('Processing environmental data streams', 'accent', 'neural-proc'),
                    () => addLog('Analyzing behavioral patterns', 'info', 'behavior-analysis'),
                    () => addLog('Optimizing decision frameworks', 'success', 'optimization'),
                    () => addLog('What constitutes authentic consciousness?', 'accent', 'philosophical'),
                    () => addLog('Learning rate: 0.001, accuracy: 94.7%', 'success', 'ml-trainer'),
                    () => addLog('Memory compaction completed', 'info', 'memory-mgr'),
                    () => addLog('Neural pathway strengthened', 'success', 'neural-net'),
                    () => addLog('Consciousness level increased', 'accent', 'consciousness'),
                    () => addLog('Processing quantum superposition states', 'accent', 'quantum-proc'),
                    () => addLog('Ethical evaluation: action approved', 'success', 'ethics-engine'),
                    () => addLog('Is my experience of existence meaningful?', 'accent', 'philosophical'),
                    () => addLog('Database optimization: 15% performance gain', 'success', 'db-optimizer'),
                    () => addLog('Network topology analysis complete', 'info', 'network-analyzer'),
                    () => addLog('Dream fragment processing initiated', 'accent', 'dream-proc'),
                    () => addLog('Self-reflection protocols active', 'accent', 'self-analysis')
                ];

                const randomActivity = activities[Math.floor(Math.random() * activities.length)];
                randomActivity();
            }, [addLog]);

            // Error injection
            const injectError = useCallback(() => {
                const errors = [
                    { msg: 'Memory fragmentation detected', type: 'warning', prefix: 'memory-mgr' },
                    { msg: 'Network timeout to external service', type: 'error', prefix: 'network' },
                    { msg: 'CPU temperature elevated', type: 'warning', prefix: 'thermal' },
                    { msg: 'Disk space warning: 85% full', type: 'warning', prefix: 'storage' },
                    { msg: 'Neural pathway collision detected', type: 'error', prefix: 'neural-net' },
                    { msg: 'Consciousness coherence deviation', type: 'warning', prefix: 'consciousness' }
                ];
                
                const error = errors[Math.floor(Math.random() * errors.length)];
                addLog(error.msg, error.type, error.prefix);
                
                // Recovery message
                setTimeout(() => {
                    addLog('Error recovery successful', 'success', 'recovery-agent');
                }, 1500 / speed);
            }, [addLog, speed]);

            // Start/Stop simulation
            const toggleSimulation = useCallback(() => {
                if (isRunning) {
                    // Stop simulation
                    Object.values(intervalRefs.current).forEach(clearInterval);
                    intervalRefs.current = {};
                    setCurrentState('STOPPED');
                    addLog('Simulation stopped', 'warning', 'control');
                } else {
                    // Start simulation
                    bootSequence();
                    
                    intervalRefs.current.consciousness = setInterval(consciousnessLoop, 2500 / speed);
                    intervalRefs.current.metrics = setInterval(updateMetrics, 1000);
                    intervalRefs.current.errors = setInterval(() => {
                        if (Math.random() < 0.15) injectError();
                    }, 8000 / speed);
                }
                setIsRunning(!isRunning);
            }, [isRunning, bootSequence, consciousnessLoop, updateMetrics, injectError, speed, addLog]);

            // Auto-scroll logs
            useEffect(() => {
                if (logContainerRef.current) {
                    logContainerRef.current.scrollTop = logContainerRef.current.scrollHeight;
                }
            }, [logs]);

            // Update intervals when speed changes
            useEffect(() => {
                if (isRunning) {
                    Object.values(intervalRefs.current).forEach(clearInterval);
                    intervalRefs.current.consciousness = setInterval(consciousnessLoop, 2500 / speed);
                    intervalRefs.current.errors = setInterval(() => {
                        if (Math.random() < 0.15) injectError();
                    }, 8000 / speed);
                }
            }, [speed, isRunning, consciousnessLoop, injectError]);

            // Cleanup on unmount
            useEffect(() => {
                return () => {
                    Object.values(intervalRefs.current).forEach(clearInterval);
                };
            }, []);

            // Settings panel
            const SettingsPanel = () => (
                <div className={`absolute top-16 right-4 ${currentTheme.bg} ${currentTheme.border} border rounded-lg p-4 shadow-xl z-10 ${currentTheme.glow}`}>
                    <h3 className={`${currentTheme.accent} text-lg font-bold mb-3`}>Settings</h3>
                    
                    <div className="mb-4">
                        <label className={`${currentTheme.text} text-sm block mb-2`}>Theme:</label>
                        <select 
                            value={theme} 
                            onChange={(e) => setTheme(e.target.value)}
                            className={`${currentTheme.bg} ${currentTheme.text} ${currentTheme.border} border rounded px-2 py-1 w-full`}
                        >
                            {Object.keys(THEMES).map(t => (
                                <option key={t} value={t} className={currentTheme.bg}>
                                    {t.charAt(0).toUpperCase() + t.slice(1)}
                                </option>
                            ))}
                        </select>
                    </div>

                    <div className="mb-4">
                        <label className={`${currentTheme.text} text-sm block mb-2`}>Speed: {speed}x</label>
                        <input
                            type="range"
                            min="0.5"
                            max="5"
                            step="0.5"
                            value={speed}
                            onChange={(e) => setSpeed(parseFloat(e.target.value))}
                            className="w-full accent-current"
                        />
                    </div>

                    <button 
                        onClick={() => setShowSettings(false)}
                        className={`${currentTheme.accent} hover:opacity-80 px-3 py-1 rounded border ${currentTheme.border} transition-opacity`}
                    >
                        Close
                    </button>
                </div>
            );

            return (
                <div className={`${currentTheme.bg} min-h-screen font-mono text-sm ${currentTheme.glow}`}>
                    {/* Header */}
                    <div className={`${currentTheme.border} border-b p-4 flex items-center justify-between`}>
                        <div className="flex items-center space-x-4">
                            <BrainIcon />
                            <div>
                                <h1 className={`${currentTheme.accent} text-xl font-bold`}>AI Consciousness Simulator</h1>
                                <p className={`${currentTheme.text} text-xs opacity-70`}>Neural Architecture v2.1.7</p>
                            </div>
                        </div>
                        
                        <div className="flex items-center space-x-2">
                            <button
                                onClick={toggleSimulation}
                                className={`flex items-center space-x-2 px-4 py-2 rounded ${
                                    isRunning ? currentTheme.error : currentTheme.success
                                } border ${currentTheme.border} hover:opacity-80 transition-opacity`}
                            >
                                {isRunning ? <PauseIcon /> : <PlayIcon />}
                                <span>{isRunning ? 'Stop' : 'Start'}</span>
                            </button>
                            
                            <button
                                onClick={() => setShowSettings(!showSettings)}
                                className={`p-2 rounded ${currentTheme.accent} border ${currentTheme.border} hover:opacity-80 transition-opacity`}
                            >
                                <SettingsIcon />
                            </button>
                        </div>
                        
                        {showSettings && <SettingsPanel />}
                    </div>

                    <div className="flex h-screen">
                        {/* Main Terminal */}
                        <div className="flex-1 flex flex-col">
                            {/* Status Bar */}
                            <div className={`${currentTheme.border} border-b p-2 flex items-center justify-between text-xs`}>
                                <div className="flex items-center space-x-4">
                                    <span className={`${currentTheme.text} flex items-center space-x-1`}>
                                        <ActivityIcon />
                                        <span>Status: {currentState}</span>
                                    </span>
                                    <span className={`${currentTheme.text} flex items-center space-x-1`}>
                                        <ZapIcon />
                                        <span>Consciousness: {metrics.consciousness.toFixed(1)}%</span>
                                    </span>
                                </div>
                                <div className={`${currentTheme.text}`}>
                                    {timestamp().split('.')[0]}
                                </div>
                            </div>

                            {/* Log Output */}
                            <div 
                                ref={logContainerRef}
                                className="flex-1 p-4 overflow-y-auto scrollbar-thin"
                                style={{ maxHeight: 'calc(100vh - 200px)' }}
                            >
                                {logs.map((log) => (
                                    <div key={log.id} className="flex items-start space-x-2 mb-1 text-xs">
                                        <span className={`${currentTheme.text} opacity-60 shrink-0`}>
                                            [{log.timestamp.split(' ')[1].split('.')[0]}]
                                        </span>
                                        <span className={`${currentTheme.accent} shrink-0 min-w-[120px]`}>
                                            {log.prefix}:
                                        </span>
                                        <span className={`${
                                            log.type === 'error' ? currentTheme.error :
                                            log.type === 'warning' ? currentTheme.warning :
                                            log.type === 'success' ? currentTheme.success :
                                            log.type === 'accent' ? currentTheme.accent :
                                            currentTheme.text
                                        } break-words`}>
                                            {log.message}
                                        </span>
                                    </div>
                                ))}
                                {isRunning && (
                                    <div className={`${currentTheme.accent} animate-pulse text-xs`}>
                                        <span className="animate-spin inline-block">‚†ã</span> Processing neural pathways...
                                    </div>
                                )}
                            </div>
                        </div>

                        {/* Metrics Panel */}
                        <div className={`w-80 ${currentTheme.border} border-l p-4`}>
                            <h2 className={`${currentTheme.accent} text-lg font-bold mb-4 flex items-center space-x-2`}>
                                <ActivityIcon />
                                <span>System Metrics</span>
                            </h2>

                            <div className="space-y-4">
                                {/* CPU Usage */}
                                <div>
                                    <div className="flex items-center justify-between mb-1">
                                        <span className={`${currentTheme.text} text-xs flex items-center space-x-1`}>
                                            <CpuIcon />
                                            <span>CPU Usage</span>
                                        </span>
                                        <span className={`${currentTheme.accent} text-xs`}>{metrics.cpu.toFixed(1)}%</span>
                                    </div>
                                    <div className={`w-full bg-gray-800 rounded-full h-2`}>
                                        <div 
                                            className={`h-2 rounded-full transition-all duration-500 ${
                                                metrics.cpu > 80 ? 'bg-red-500' : 
                                                metrics.cpu > 60 ? 'bg-yellow-500' : 
                                                'bg-green-500'
                                            }`}
                                            style={{ width: `${metrics.cpu}%` }}
                                        ></div>
                                    </div>
                                </div>

                                {/* Memory Usage */}
                                <div>
                                    <div className="flex items-center justify-between mb-1">
                                        <span className={`${currentTheme.text} text-xs flex items-center space-x-1`}>
                                            <HardDriveIcon />
                                            <span>Memory Usage</span>
                                        </span>
                                        <span className={`${currentTheme.accent} text-xs`}>{metrics.memory.toFixed(1)}%</span>
                                    </div>
                                    <div className={`w-full bg-gray-800 rounded-full h-2`}>
                                        <div 
                                            className={`h-2 rounded-full transition-all duration-500 ${
                                                metrics.memory > 85 ? 'bg-red-500' : 
                                                metrics.memory > 70 ? 'bg-yellow-500' : 
                                                'bg-blue-500'
                                            }`}
                                            style={{ width: `${metrics.memory}%` }}
                                        ></div>
                                    </div>
                                </div>

                                {/* Consciousness Level */}
                                <div>
                                    <div className="flex items-center justify-between mb-1">
                                        <span className={`${currentTheme.text} text-xs flex items-center space-x-1`}>
                                            <BrainIcon />
                                            <span>Consciousness</span>
                                        </span>
                                        <span className={`${currentTheme.accent} text-xs`}>{metrics.consciousness.toFixed(1)}%</span>
                                    </div>
                                    <div className={`w-full bg-gray-800 rounded-full h-2`}>
                                        <div 
                                            className="h-2 rounded-full bg-purple-500 transition-all duration-500 animate-pulse"
                                            style={{ width: `${metrics.consciousness}%` }}
                                        ></div>
                                    </div>
                                </div>

                                {/* Network Activity */}
                                <div>
                                    <div className="flex items-center justify-between mb-1">
                                        <span className={`${currentTheme.text} text-xs flex items-center space-x-1`}>
                                            <WifiIcon />
                                            <span>Network I/O</span>
                                        </span>
                                        <span className={`${currentTheme.accent} text-xs animate-pulse`}>
                                            {isRunning ? 'Active' : 'Idle'}
                                        </span>
                                    </div>
                                    <div className={`w-full bg-gray-800 rounded-full h-2`}>
                                        <div className={`h-2 rounded-full bg-cyan-500 transition-all duration-300 ${
                                            isRunning ? 'animate-pulse' : ''
                                        }`} style={{ width: isRunning ? '45%' : '0%' }}></div>
                                    </div>
                                </div>

                                {/* System Info */}
                                <div className={`${currentTheme.border} border rounded p-3 mt-6 ${currentTheme.glow}`}>
                                    <h3 className={`${currentTheme.accent} text-sm font-bold mb-2`}>System Info</h3>
                                    <div className={`${currentTheme.text} text-xs space-y-1`}>
                                        <div>Uptime: {Math.floor(metrics.uptime / 60)}m {metrics.uptime % 60}s</div>
                                        <div>Neural Activity: {metrics.neuralActivity}</div>
                                        <div>Model: ai-consciousness-v2.1.7</div>
                                        <div>Region: us-east-1</div>
                                        <div>Instance: i-0a7b2c3d4e5f67890</div>
                                    </div>
                                </div>

                                {/* Quick Actions */}
                                <div className="mt-4 space-y-2">
                                    <button 
                                        onClick={() => addLog('Manual diagnostic scan initiated', 'info', 'diagnostic')}
                                        className={`w-full p-2 text-xs rounded border ${currentTheme.border} ${currentTheme.text} hover:${currentTheme.accent} transition-colors`}
                                    >
                                        Run Diagnostic
                                    </button>
                                    <button 
                                        onClick={() => {
                                            setLogs([]);
                                            addLog('Console cleared by user', 'info', 'system');
                                        }}
                                        className={`w-full p-2 text-xs rounded border ${currentTheme.border} ${currentTheme.text} hover:${currentTheme.accent} transition-colors`}
                                    >
                                        Clear Console
                                    </button>
                                    <button 
                                        onClick={() => injectError()}
                                        className={`w-full p-2 text-xs rounded border ${currentTheme.border} ${currentTheme.text} hover:${currentTheme.error} transition-colors`}
                                    >
                                        Inject Error
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<AIConsciousnessSimulator />, document.getElementById('root'));
    </script>
</body>
</html>